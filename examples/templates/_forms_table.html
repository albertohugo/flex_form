{% load static %}
<table id="forms-table" class="table">
  <thead>
  <tr>
      <th class="text-center" scope="col"></th>
    <th class="text-center" scope="col">#</th>
    <th class="text-center" scope="col">Id</th>
    <th class="text-center" scope="col">Name</th>
    <th class="text-center" scope="col">Created by</th>
    <th class="text-center" scope="col">Status</th>
    <th class="text-center" scope="col">Created at</th>
    <th class="text-center" scope="col">Read / Update / Delete</th>
    <th class="text-center" scope="col">Object</th>
  </tr>
  </thead>


  {% for form in forms %}

  <tbody>
   <tr class="accordion-toggle collapsed" id="accordion1" data-toggle="collapse" data-parent="#{{ form.id }}" href="#{{ form.id }}">
       <td class="expand-button">+</td>
      <th class="text-center" scope="row">{{ forloop.counter }}</th>
      <td class="text-center">{{ form.id }}</td>
      <td class="text-center">{{ form.title }}</td>
      <td class="text-center">{{ form.created_by }}</td>
      <td class="text-center">
       {% if form.status == True %}
        <img src="{% static "open-iconic-master/svg/circle-check_w.svg" %}" alt="Activated" width="15" height="15">
        {% else %}
       <img src="{% static "open-iconic-master/svg/circle-x_w.svg" %}" alt="Deactivated" width="15" height="15">
      {% endif %}

      </td>
      <td class="text-center">{{ form.timestamp }}</td>
      <td class="text-center">
        <!-- Read form buttons -->
        <button type="button" class="bs-modal read-form btn btn-sm btn-secondary" style="background-color: #1b6ca8;" data-form-url="{% url 'read_form' form.pk %}">
          <span class="fa fa-eye"></span>
        </button>
        <!-- Update form buttons -->
        <button type="button" class="update-form btn btn-sm btn-secondary" style="background-color: #1b6ca8;" data-form-url="{% url 'update_form' form.pk %}">
          <span class="fa fa-pencil"></span>
        </button>
        <!-- Delete form buttons -->
        <button type="button" class="bs-modal delete-form btn btn-sm btn-secondary" data-form-url="{% url 'delete_form' form.pk %}">
          <span class="fa fa-trash"></span>
        </button>

      </td>
      <td class="text-center">
         <button type="button" class="bs-modal create-object btn btn-sm btn-secondary"  style="background-color: #1b6ca8;"  data-form-url="{% url 'create_object' form.pk %}">
          <span class="fa fa-plus"></span>
        </button>
      </td>
    </tr>
<tr class="hide-table-padding">
<td colspan="10">
<div id={{ form.id }} class="collapse in p-3">
    {% for object in objects %}
        {% if form == object.form %}
    <div class="row">
    <div class="col-4">

         {% if object.type == 1 %}
            <img src="{% static "open-iconic-master/svg/text.svg" %}" alt="Activated" width="15" height="15">
         {% else %}
            <img src="{% static "open-iconic-master/svg/calculator.svg" %}" alt="Deactivated" width="15" height="15">
         {% endif %}
         {{ object.label }}
    </div>
    <div class="col-2">
        <button type="button" class="bs-modal read-form btn btn-sm btn-secondary" style="background-color: #1b6ca8;" data-form-url="{% url 'read_object' object.pk %}">
          <span class="fa fa-eye"></span>
        </button>
        <!-- Update form buttons -->
        <button type="button" class="update-object btn btn-sm btn-secondary" style="background-color: #1b6ca8;" data-form-url="{% url 'update_object' object.pk %}">
          <span class="fa fa-pencil"></span>
        </button>
        <!-- Delete form buttons -->
        <button type="button" class="bs-modal delete-form btn btn-sm btn-secondary" data-form-url="{% url 'delete_object' object.pk %}">
          <span class="fa fa-trash"></span>
        </button>
    </div>
  </div>
    {% endif %}
      {% endfor %}
</div></td>

</tr>

  {% endfor %}
  </tbody>
</table>
